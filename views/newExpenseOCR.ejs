<%- include('header', {cssFilePath: '/styles.css'}); -%>

<div class="container">
  <div class="row">
    <div class="col">
      <h1>Add a new expense </h1>
    </div>
  </div>
  <div class="container"><img src="<%= receiptID.imgurl%>" class="responsive-img img-receipt"></div>
  <form action="/expense" method="POST">
    <div class="form-group">
      <label for="date">Date:</label><br />
      <input type="hidden" id='receiptId' name="receiptId" value="<%=receiptID.id%>">
      <input type="date" id="date" name="date" value="<%=moment(ocrData[0].date).format('YYYY-MM-DD')%>" class="form-control" />
      <%=console.log(moment(ocrData[0].date).format('YYYY-MM-DD'))%>
      <label for="expenseName">Expense name:</label><br />
      <input type="text" id="expenseName" name="expenseName" class="form-control" />
      <div class="form-group">
        <label for="categories_id">Categories:</label><br />
        <select id="categories_id" name="categories_id" required>
          <option value="" disabled selected hidden>select</option>
      <% categories.forEach((element) => { %>
        <option value="<%= element.id %>"><%= element.name %></option>
      <% }); %>
      </select>
      </div>
      <label for="amount">Amount:</label><br />
      <input type="text" id="amount" name="amount"  value="<%=ocrData[2].amount %>" class="form-control" />
      <label for="vendor">Vendor:</label><br />
      <input type="text" id="vendor" name="vendor"  value="<%=ocrData[1].vendor %>"class="form-control" />
      <label for="amount">Message:</label><br />
      <input type="text" id="message" name="message" class="form-control" />
    </div>
    <input type="submit" value="Add" class="btn btn-success" />
  </form>

</div>

<%- include('footer'); -%>