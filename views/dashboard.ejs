<%- include('header' , {cssFilePath: '/login.css'}) -%>
<link rel="stylesheet" href ="/filter.css">
<div class="d-flex flex-column" id="content-wrapper">
  <div id="content">
    <div class="container-fluid">
      <h3 class="text-dark mb-4">Expense Overview</h3>
      <div class="card shadow">
          <div class="card-header py-3 row">
            <div class="col-md-3">
            </div>
              <div class="col-md-9">
                <div class="text-md-right">
                  <form class="cloud-form" action="/upload" method="GET">
                    <input type="hidden" name="expenseId" id="expenseId" value=undefined>
                    <input class="btn btn-outline-primary" type="submit" value="Receipt Scan"/>
                  <a href="/expense" class="btn btn-outline-primary" role="button"> Add New Expense</a>
                  <button type="button" class="btn btn-primary" id="btnExportToCSV">Export to CSV</button>
                </div>
            </div>
          </div>
          <div class="card-body">
              <div class="row">
                  <div class="col-md-3 text-nowrap">
                      <div>
                        <label>Show&nbsp;<select class="form-control form-control-sm custom-select custom-select-sm"><option value="10" selected="">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select>&nbsp;</label></div>
                  </div>
                  
                  <div class="col-md-9">
                      <div class="text-md-right">
                        <label><input type="search"  name="search" id="search" class="form-control form-control-sm"  placeholder="Search Expense"></label><br></div><br>
                  </div>
              </div>
              <div class="table-responsive table mt-2 table table-striped table-hover table-sortable th"  >
                  <table id="dataTable" class="table my-0" >
                      <thead>
                          <tr>
                              <th class="table-head th-sort-asc">Date</th>
                              <th class="table-head">Expense Name</th>
                              <th class="table-head">Vendor</th>
                              <th class="table-head">Amount</th>
                              <th class="table-head">Category</th>
                              <th></th>
                          </tr>
                      </thead>
                      <tbody>
                          <% expenses.forEach((element) => { %>
                            <tr>
                              <td><%=moment(element.date).format('DD/MM/YYYY');%> </a></td>
                              <td class= "expenseName"><%=element.name%></td>
                              <td><%=element.vendor%></td>
                              <td>$<%=element.amount%></td>
                              <td><%=element.categories_name%></td>
                              <td><a class="btn btn-outline-primary" href="/expense/<%=element.id%>" role="button">View</a></td>
                            </tr>
                          <% }) %>
                      </tbody>
                      <tfoot>
                          <tr>
                              <td><strong>Date</strong></td>
                              <td><strong>Expense Name</strong></td>
                              <td><strong>Vendor</strong></td>
                              <td><strong>Amount</strong></td>
                              <td><strong>Categories</strong></td>
                              <td><strong></strong></td>
                          </tr>
                      </tfoot>
                  </table>
              </div>
              <div class="row">
                  <div class="col-md-6 align-self-center">
                      <p>Showing 10 of 27</p>
                  </div>
                  <div class="col-md-6">
                      <nav class="d-lg-flex justify-content-lg-end dataTables_paginate paging_simple_numbers">
                          <ul class="pagination">
                              <li class="page-item disabled"><a class="page-link" href="#" aria-label="Previous"><span aria-hidden="true">«</span></a></li>
                              <li class="page-item active"><a class="page-link" href="#">1</a></li>
                              <li class="page-item"><a class="page-link" href="#">2</a></li>
                              <li class="page-item"><a class="page-link" href="#">3</a></li>
                              <li class="page-item"><a class="page-link" href="#" aria-label="Next"><span aria-hidden="true">»</span></a></li>
                          </ul>
                      </nav>
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>

<!-- uncompleted code -->
<!-- <div class="container">
  <div class="row margin-top-50">
    <div class="col-md-2">
      <aside class="filters">
        <div class="panel panel-default">
          <div class="panel-heading">Filter Search</div>
          <div class="panel-body">
            <form>
              <div class="form-group">
                <ul class="list-group" id="filters">
                  <li class="filter list-group-item">
                    <label for="date">Enter a Date</label>
                    <input class="form-control" id="datetime" type="text" placeholder="1/11/2011">
                  </li>
                </ul>
              </div>
              <button id="filter-btn" type="submit" class="btn btn-default">Filter Table</button>
            </form>
          </div>
        </div>
      </aside>
    </div>
  </div> -->
</div>
<script src="/filter.js"></script>
<script src="/search.js"></script>
<script src="/tableCSVExporter.js"></script>

<%- include('footer'); -%>


